<!doctype html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel=stylesheet href="book.css">

  <script src="js/boxGen.js"></script>

  <title>Chapter 4</title>  
</head>
<body class="fading-background">
<article>

<a name="top"></a>
<div class="navigation">
	<a href="page003.html">&lt;</a>
	<a href="page000.html">^</a>
  <a href="page005.html">&gt;</a>
</div>

<h1>Chapter 4 - Fractions or "lazy divisions"</h1>
<p>
We have found out clever ways to calculate divisions in the previous chapter, but division are still complex and long...
<br>
Perhaps we could do like the ancient Greeks and keep divisions <i>un-calculated</i> ... or at least keep them NOT SOLVED as long as possible in our calculations. Wouldn't it be nice to postpone division, and have to do one division at the end of each math expression? 
This is known as a <i>lazy evaluation</i> strategy, and it can summed up by the classic school math sentence <i>"I will not calculate this division!... not right now anyways"</i>.
<br>
First we need to find ways to avoid calculating divisions as long as possible in a math expression. 
For example we could say that when calculating something like <b>10+(10:2)-1</b>, we could leave 
<b>(10:2)</b> be, and instead of replacing it with its result (which is <b>5</b> by the way), do the rest of the calculation first: 
<span class="formula">
  10+(10:2)-1 &rarr; (10:2)+10-1 &rarr; (10:2)+9
</span>
Then when you really cannot avoid it, do the division, and finish the calculation:
<span class="formula">
  (10:2)+9 &rarr; (5)+9 &rarr; 5+9 &rarr; 14
</span>
And if we think about this idea a bit more, we should be able to do even better than in this simple example.
<br>
OK, but then we will have un-calculated division instead of numbers in our expression, and we will have to decide how to do additions, multiplications, etc, between regular numbers and these un-calculated division things. And we might get to a point where an un-calculated division starts to feel like just another KIND of number; so we could end up seeing <b>(10:2)</b> as ANOTHER WAY to write <b>5</b>.
When that happens, we can give a special syntax to an un-calculated division, ... and a better name: a fraction!
</p>

<h2>Procrastinate... in a while</h2>
<p>
Let's say that I want to AVOID calculating divisions as long as possible in a mathematical expression, for example in:
<span class="formula">(10:2) + (20:2)</span>
The usual way to go is to first calculate the two divisions (in the two brackets), then add; so:
<table class="centered_table" width="33%,33%,33%">
<tr><td>(10:2)</td><td> + </td><td>(20:2)</td></tr>
<tr><td><b>&Downarrow; :</b></td><td>  </td><td><b>&Downarrow; :</b></td></tr>
<tr><td> 5 </td><td> + </td><td> 10 </td></tr>
<tr><td></td><td><b>&Downarrow; +</b></td><td></td></tr>
<tr><td></td><td> 15 </td><td></td></tr>
</table>
But to delay calculating the division as much as possible, I could try to <b>do the addition first</b>, then the division... if I really have to. It would look like this:
<br>
<span style="display:inline-block;margin-left: 25em;">
<table class="centered_table" width="33%,33%,33%">
<tr><td>(10:2)</td><td> + </td><td>(20:2)</td></tr>
<tr><td></td><td><b>&Downarrow; +</b></td><td></td></tr>
<tr><td></td><td style="color:red"> ??? </td><td></td></tr>
</table>
</span>
<br>
The problem is that I don't know how to proceed here...How can I ADD two divisions, before I even calculate them?
<br>Well, I could look at what each division means: <b>10:2</b> means "take ten sheep and divide them equally between two of my friends", and <b>20:2</b> means "take twenty sheep and divide them equally between the same two of my friends". The two friends will get the sum of all those sheep, divided between them. 
<br>
However you calculate this, you end with each friend getting half of thirty sheep, right?! But that means that: <b>(10:2) + (20:2)</b> is also <b>(10+20):2</b> and that is <b>30:2</b>. Good, but this works only the case because I am dividing my sheep among the SAME TWO friends. It would not work for something like <b>(10:2) + (20:3)</b>. 
But back to our <i>alternative way</i> to calculate the expression. Now I know what to do:
<br>
<span style="display:inline-block;margin-left: 25em;">
<table class="centered_table" width="33%,33%,33%">
<tr><td>(10:2)</td><td> + </td><td>(20:2)</td></tr>
<tr><td></td><td><b>&Downarrow; +</b></td><td></td></tr>
<tr><td></td><td> (10+20):2 = 30:2 </td><td></td></tr>
<tr><td></td><td><b>&Downarrow; :</b></td><td></td></tr>
<tr><td></td><td> 15 </td><td></td></tr>
</table>
</span>
<br>
Nice! It does not matter in which order I do the calculations, I still get the same result: <b>15</b>. The advantage in the second method is that I have to do only one division, which is potentially a good, lazy way to go... and perhaps I could even avoid that one!
Would it be wrong to say: <b>(10:2) + (20:2) = 30:2</b> and stop there, without giving the final result as <b>15</b>? Can <b>30:2</b> be considered kind of like a number by itself? Not really, mainly because it is clear that thirty is divisible by two, so I can do better than stop here, and I should really finish my calculation.
<br>Fine, sure. But there might be other cases where I could prefer to stop at the division.
For example if the result of calculating an expression is <b>1:2</b>, then it might be better to leave it as un-calculated division than incommodate <b>0.5</b>, which is a broken number (see the previous <a href="page003.html">chapter</a>) and not so nice to look at anyways...
<br>
OK, say that we decide to go this way. We need to find out what happens when we add an un-calculated division like <b>1:2</b> to a whole number, or when we multiply it by some other number, or even by another un-calculated division:
<ul>
  <li> <b>(1:2) + 3</b> = ? </li>
  <li> <b>(1:2) * 3</b> = ?? </li>
  <li> <b>(1:2) * (3:4)</b> = ??? </li>
</ul>
because so far the only thing we know is that 
<b>(<span style="color:blue">a</span>:<span style="color:green">b</span>) + (<span style="color:red">c</span>:<span style="color:green">b</span>)</b> is equal to <b>(<span style="color:blue">a</span>+<span style="color:red">c</span>):<span style="color:green">b</span></b>.
</p>

<h3>The un-calculated divisions</h3>
<p>
The first puzzle is <b>(1:2) + 3</b>. Unfortunately I don't have a rule for this one, and so far I only know how to add a number to another number, and an un-calculated divisions to another, but only when they are <i>similar enough</i> (which means that both divide by the same number, like <b>10:2</b> and <b>20:2</b>). 
What can I do here? 
<br>
If only I could rewrite that lonely <b>3</b> as <i>something divide by two</i>, then I would get:
<span class="formula">
 (1:2) + 3 &rarr; (1:2) + (something:2)
</span>
and I could easily calculate the addition of the two divisions... 
<br>
So we need to find a way to rewrite <b>3</b> as <b>something:2</b>. 
We can go back to our idea that in math the same meaning can be expressed in many ways (semantics versus syntax), and <b>3</b> is actually also <b>6:2</b>, or <b>9:3</b>, or any division like:
<span class="formula">
 (3*n):n
</span>
where <i>n</i> can be any number you like, just not zero.

<p>
Even more in general, we can say that ANY whole number <i>m</i> is also equal to (AKA has the same meaning as) any un-calculated division that looks like <b>(m*n):n</b> (provided that <i>n</i> is not zero, which would create problems with the division).
</p>

OK, good, so the trick here is rewrite <b>3</b> as a <i>fake</i> division by two:
<span class="formula">(1:2) + <span style="color:blue;">3</span> &rarr; 
<br>
(1:2) + <span style="color:blue;">((<span style="color:red;">3*2</span>):2)</span> =
<br>
(1:2) + <span style="color:blue;">(<span style="color:red;">6</span>:2)</span> </span>
</p>
and now I can use my rule for adding un-calculated divisions:
<span class="formula">
  (1:2) + (6:2) =
<br> 
  (1+6):2 = 
<br>
  7:2
</span>
which eventually would be <b>3.5</b>.
<br>But is this the correct result? Let's see with a <i>calculation diagrams</i>:

<table cols="2" width="100%">
  <tr><td valign="top">
    <table class="centered_table" width="33%,33%,33%">
    <tr><td>(1:2)</td><td> + </td><td>3</td></tr>
    <tr><td><b>&Downarrow; :</b></td><td>  </td><td></td></tr>
    <tr><td> 0.5 </td><td> + </td><td> 3 </td></tr>
    <tr><td></td><td><b>&Downarrow; +</b></td><td></td></tr>
    <tr><td></td><td> 3.5 </td><td></td></tr>
    </table>
  </td>
  <td valign="top">
    <table class="centered_table" width="33%,33%,33%">
    <tr><td>(1:2)</td><td> + </td><td>3</td></tr>
    <tr><td></td><td><b>&Downarrow; +</b></td><td></td></tr>
    <tr><td></td><td><div style="width:8em;">1:2+((3*2):2) = (1+6):2 = 7:2</div></td><td></td></tr>
    <tr><td></td><td><b>&Downarrow; :</b></td><td></td></tr>
    <tr><td></td><td> 3.5 </td><td></td></tr>
  </table>
  </td></tr>
</table>
good! So what is the rule in general? It must be:
<span class="formula">
  (<span style="color:blue;">a</span>:<span style="color:green;">b</span>) + <span style="color:red;">n</span> &rarr;
<br>
  (<span style="color:blue;">a</span>:<span style="color:green;">b</span>) + ((<span style="color:red;">n</span>*<span style="color:green;">b</span>):<span style="color:green;">b</span>) &rarr;
<br>
  (<span style="color:blue;">a</span> + <span style="color:red;">n</span>*<span style="color:green;">b</span>):<span style="color:green;">b</span>
</span>
with <span style="color:blue;"><i>a</i></span>, 
<span style="color:green;"><i>b</i></span>, and 
<span style="color:red;"><i>n</i></span> being any three whole numbers, with 
<span style="color:green;"><i>b</i></span> different from zero.

<p>
The second expression <b>(1:2) * 3</b> is a bit easier, because if we read the multiplication as repetition (like we did in <a href="page002.html">chapter 2</a>), we get: 
<i>"3 times something is just something added to something added to something"</i>, 
which translates to the mathematical expression:
<span class="formula" style="margin-top:.5em;margin-bottom:.5em">
(1:2) * 3 = (1:2) + (1:2) + (1:2)
</span>
And we have already a way to do additions between un-calculated divisions, two by two:
<span class="formula" style="margin-top:.5em;margin-bottom:.5em">
  <span style="color:blue">(1:2) + (1:2)</span> = 
  <span style="color:#099">(1+1):2</span>
</span>
But here we have three to add, so we get:
<span class="formula" style="margin-top:.5em;margin-bottom:.5em">
  <span style="color:blue">(1:2) + (1:2)</span> + (1:2) = 
  <span style="color:#099">(1+1):2</span> + (1:2) =
     (<span style="color:#099">1+1</span>+1):2</span>
and in a more general case, with <i>n</i> being any whole number:
<span class="formula">(1:2) * n = <span data-bracket="n times">(1:2) + ... + (1:2)</span> = 
(<span data-bracket="n times">1+...+1</span>):2 = (1*n):2</span>
<br>
OK, so I think we have a rule here, and it says:
<span class="formula">(a:b) * n = (a*n):b </span>
which looks right, considering our examples so far.
<br>
<br>
Interestingly, this last rule shows <i>inverse relation</i> between multiplication and division. 
Let's take for example <b>2</b>, and a division like <b>1:2</b>; if I multiply them I get <b>1</b>, because:
<span class="formula" style="margin-top:.5em;margin-bottom:.5em">
(1:2) * 2 &rarr; (1*2):2 &rarr; 1 
</span>
and this is true not just for <b>2</b> and <b>1:2</b>, but for ANY whole number (excluding zero, which works very badly with divisions!). 
So I can write a general property of multiplication (and division) that says:
<span class="formula" style="margin-top:.5em;margin-bottom:.5em">
  (1:n) * n = 1 
</span>
for any number <i>n</i> (just not zero). 
In our example here, <i>n</i> is <b>2</b> and <b>1:n</b> is <b>0.5</b>, so in mathematical jargon I could say that the number <b>0.5</b> is the <i>inverse</i> of the number <b>2</b>, because <b>0.5 * 2 = 1</b>!
</p>

<p>
So far so good. Now, the third expression is: <b>(1:2) * (3:4)</b>. Well... I find this one very difficult to see. How can I read it so it even makes sense? And how could I rewrite it in the hope of finding its result?
<br>
I might try with one of my nice calculation diagrams: on the left I do first the divisions and then the addition, and on the right I try to do the opposite...
<table cols="2" width="100%">
  <tr><td valign="top">
    <table class="centered_table" width="33%,33%,33%">
    <tr><td>(1:2)</td><td> * </td><td>(3:4)</td></tr>
    <tr><td><b>&Downarrow; :</b></td><td>  </td><td><b>&Downarrow; :</b></td></tr>
    <tr><td> 0.5 </td><td> * </td><td> 0.75 </td></tr>
    <tr><td></td><td><b>&Downarrow; *</b></td><td></td></tr>
    <tr><td></td><td> 0.375 </td><td></td></tr>
    </table>
  </td>
  <td valign="top">
    <table class="centered_table" width="33%,33%,33%">
    <tr><td>(1:2)</td><td> * </td><td>(3:4)</td></tr>
    <tr><td></td><td><b>&Downarrow; *</b></td><td></td></tr>
    <tr><td></td><td> <span style="color:red">?</span> </td><td></td></tr>
  </table>
  </td></tr>
</table>

<br>
Well, I know from a bit before, than 
<b>(<span style="color:blue">a</span>:<span style="color:green">b</span>)*<span style="color:red">c</span> = 
  (<span style="color:blue">a</span>*<span style="color:red">c</span>):<span style="color:green">b</span>
</b>, so I can surely use that here:

<span class="formula" style="margin-top:.5em;margin-bottom:.5em">
      (<span data-bracket="a">&nbsp;<span style="color:blue">1</span>&nbsp;</span>:<span data-bracket="b">&nbsp;<span style="color:green">2</span>&nbsp;</span>) * 
        (<span data-bracket="c"><span style="color:red">3:4</span></span>) = 

      (<span data-bracket="a">&nbsp;<span style="color:blue">1</span>&nbsp;</span>* (<span data-bracket="c"><span style="color:red">3:4</span></span>) ) : 
      <span data-bracket="b">&nbsp;<span style="color:green">2</span>&nbsp;</span>
</span>
<br>
Good, now the first part simplifies like this: 
<span class="formula" style="margin-top:.5em;margin-bottom:.5em">
      (&nbsp;<span style="color:blue">1</span>&nbsp;* (<span style="color:red">3:4</span>) ) = 
      (<span style="color:red">3:4</span>)
</span>
because <b>1*something</b> is just the <b>something</b>, anywhere in math. And also because 
<b>(a:b) * n = (a*n):b</b>, and <b>(a:b) * n</b> is the same as <b>n * (a:b)</b>, which is what we have here.
<br>
So I'm left with:
<span class="formula" style="margin-bottom:.5em">
      (<span style="color:red">3:4</span>):<span style="color:green">2</span>
</span>
... and I'm stuck again. What is the meaning of <b>(3:4):2</b>? 
<br>
I'm dividing <b>3</b> by <b>4</b> and the result again by <b>2</b>, right?! But what does it the mean, what situation is this <i>division of division</i> describing?
<br>
OK, let's say I take a flock of sheep and divide them between <b>4</b> friends. Then each friend  takes whatever she's got and divides that among <b>2</b> relatives. How many sheep will each one of the relatives get?
<br>
Or if your prefer the "classic" cake example: take one cake, cut it in four pieces. Then cut each piece in two slices... how small is each of the resulting slices?
</p>
<p>
  <div class="playground" id="playground1"></div>
  <script src="js/004_01.js"></script>
  <script>prepare_004_01('playground1')</script>
</p>

<p>
When you think about this kind of problems for a while your will (... possibly get a headache, then...) realize that surely the order in which you divide is NOT IMPORTANT, what counts is the overall effect. So dividing by <b>4</b> and then by <b>3</b> has to be the same as dividing by 
<b>2</b> first and by <b>4</b> later!
After all, if I divide a cake in four and each fourth in halves, I will get <b>2*4 = 8</b> slices, and each will be <i>one eighth</i> of the whole cake.
<br>
And if that is true in general, not just with these particular numbers, then I can finish my calculation. Because <b>(3:4):2 = (3:2):4</b> and they are both equal to 
<b>3:(4*2)</b>, which gives <b>3:8</b>. And in fact all three expressions have the same result: <b>0.375</b>.
<br>So putting it all together:
<span class="formula">
     (1:2) * (3:4) &rarr; 
<br> ( 1*(3:4) ) : 2 &rarr;
<br> (3:4) : 2 &rarr;
<br> 3:( 4*2 ) = 3:8 = 0.375
</span>

Hence, our diagram becomes:
<table cols="2" width="100%">
  <tr><td valign="top">
    <table class="centered_table" width="33%,33%,33%">
    <tr><td>(1:2)</td><td> * </td><td>(3:4)</td></tr>
    <tr><td><b>&Downarrow; :</b></td><td>  </td><td><b>&Downarrow; :</b></td></tr>
    <tr><td> 0.5 </td><td> * </td><td> 0.75 </td></tr>
    <tr><td></td><td><b>&Downarrow; *</b></td><td></td></tr>
    <tr><td></td><td> 0.375 </td><td></td></tr>
    </table>
  </td>
  <td valign="top">
    <table class="centered_table" width="33%,33%,33%">
    <tr><td>(1:2)</td><td> * </td><td>(3:4)</td></tr>
    <tr><td></td><td><b>&Downarrow; *</b></td><td></td></tr>
    <tr><td></td><td><div style="width:8em;">(1*3) : (2*4) = 3:8</div></td><td></td></tr>
    <tr><td></td><td><b>&Downarrow; :</b></td><td></td></tr>
    <tr><td></td><td> 0.375 </td><td></td></tr>
  </table>
  </td></tr>
</table>
and since the diagrams gives the same result no matter which order I follow to calculate, it should mean that the two ways are EQUIVALENT. And with that in mind, I can try to write a general rule for these kinds of expressions:
<span class="formula" style="margin-top:.5em;margin-bottom:.5em">
  (<span style="color:blue">a</span>:<span style="color:green">b</span>) * 
    (<span style="color:red">c</span>:<span style="color:darkorange">d</span>) 
  = 
  (<span style="color:blue">a</span>*<span style="color:red">c</span>) :
    (<span style="color:green">b</span>*<span style="color:darkorange">d</span>)
</span>
which by the way looks kind of cool. Just SWAP the variables and SWAP the operations... cool! 
<br>
<br>
But can I trust that it is true for any numbers <i>a</i>, <i>b</i>, <i>c</i> and <i>d</i> (eventually remembering that <i>b</i> and <i>d</i> cannot be zero)?
<br>Well, at the very least we should check that it works when <i>b</i> and <i>d</i> are equal to 
<b>1</b>, because in that case we are not really dealing with divisions anymore, but with numbers, so we should know what to expect. Let's see:
<span class="formula" style="margin-top:.5em;margin-bottom:.5em">
  (a:1) * (c:1) = (a*c) : (1*1)
</span>
in other words we get <b>a*c = a*c</b> which is surely correct! Good, so our rule at least does not make mistakes when numbers are involved (instead of actual divisions). Nice.
<br>But to build some confidence that the rule is true in general, let's play with the playground below, change the values of <i>a</i>, <i>b</i>, <i>c</i> and <i>d</i>, and see if the two ways to write the same thing always agree, which means that hopefully <b>(a:b) * (c:d)</b> will always give the same result as 
<b>(a*c) : (b*d)</b>. See if you can find a counter-example!
</p>

<p>
<span class="task">Use this playground to test the hypothesis that 
  <b>(a:b) * (c:d) = (a*c) : (b*d)</b>
is always true.
<br>Try for example with: (10:2) * (16:4) , which is <b>5*4</b> and should give <b>20</b> no matter how you calculate it.
<br>You can also stress-test the playground, using the "random" button, to try different, randomly created
values for <i>a</i>, <i>b</i>, <i>c</i> and <i>d</i>. 
<br>
At what point to you start believing that the rule is always true?
</span> 

  <div class="playground" id="playground2"></div>
  <script src="js/004_02.js"></script>
  <script>prepare_004_02('playground2')</script>
</p>


<h3>Too long, didn't read...</h3>
<p>
OK, that was a bit too long... What about a more direct, more visual way to understand what 
<b>(a:b) * (c:d)</b> means and how to calculate it?
<br>
In math, when you get lost, it's often a good idea to try looking at geometry, you know, draw stuff... (yet another take on the idea of multiple ways to express the same thing).
<br>
First we make up a way to draw a division, as a process of cutting slices from a rectangle, then we reason on the geometry of this representation of divisions. Finally, we can try to see what happens when we multiply two of these slices together...

For example, let's consider again: <b>(1:2) * (3:4)</b>. In particular I could take 
<b style="color:blue;">1:2</b> and draw it as <b>half</b> of a square (see below). 
Any size square would do really, but here I choose a square with side <b>4</b> because it is small, yet large enough for dividing it up a few times. You can also do this with a <i>continuous</i> square, a play-dough square for example, instead of one made of dots (like I have); that would make it even simpler to imagine cutting slices out of it, because you will never get in a situation where you have to cut a dot in half. Anyways, I can now move to the 
<b style="color:green;">3:4</b> division: in this situation "<b>3</b> divided <b>4</b>" means that I need to cut a slice that is three parts out of four, in a similar square.
<div>

  <canvas id="canvas1_a"></canvas>
  <script>boxGen('canvas1_a',{size:[4,4],borders:[
    [0,0,4,1,"black",1],
    [0,1,4,2,"black",1],
    [0,2,4,3,"black",1],
    [0,3,4,4,"black",1],
    [0,0,4,2,"blue",4],
  ]})</script>

  <span style="position:relative;top:-2em;">and</span>

  <canvas id="canvas2_a"></canvas>
  <script>boxGen('canvas2_a',{size:[4,4],borders:[
    [0,0,1,4,"black",1],
    [1,0,2,4,"black",1],
    [2,0,3,4,"black",1],
    [3,0,4,4,"black",1],
    [1,0,4,4,"green",4],
  ]})</script>

  <span style="position:relative;top:-2em;">&nbsp; &nbsp; &rarr; &nbsp; &nbsp;</span>

  <canvas id="canvas1"></canvas>
  <script>boxGen('canvas1',{size:[4,4],borders:[
    [0,0,4,1,"black",1],
    [0,1,4,2,"black",1],
    [0,2,4,3,"black",1],
    [0,3,4,4,"black",1],
    [0,0,4,2,"blue",4],
  ]})</script>

  <span style="position:relative;top:-2em;">*</span>

  <canvas id="canvas2"></canvas>
  <script>boxGen('canvas2',{size:[4,4],borders:[
    [0,0,1,4,"black",1],
    [1,0,2,4,"black",1],
    [2,0,3,4,"black",1],
    [3,0,4,4,"black",1],
    [1,0,4,4,"green",4],
  ]})</script>

  <span style="position:relative;top:-2em;">=</span>

  <canvas id="canvas3"></canvas>
  <script>boxGen('canvas3',{size:[2,4],borders:[
    [1,0,4,2,"black",1],

    [1,0,1,2,"black",1],
    [2,0,2,2,"black",1],
    [3,0,3,2,"black",1],

    [1,1,4,1,"black",1],

    [1,0,4,2,"red",4],    
  ]})</script>

</div>
Since the square is four by four, we are really looking at 
<b style="color:blue">16 * (1:2)</b> and 
<b style="color:green">16 * (3:4)</b>, and to the right (in the figure above) the square that represents 
<b style="color:red">16 * (1:2) * (3:4)</b>. Now, the first slice has an area of <b style="color:blue">(16*1):2 = 8</b> dots, and 
the second is <b style="color:green">(16*3):4 = 48:4 = 12</b> dots. And I can see VISUALLY that it is so (in the squares above). What is the area of red rectangle on the far right (above)? I can SEE that it is <b>6</b>, but then <b style="color:red">16 * (1:2) * (3:4)</b> must be <b>6</b>; let's see if that is true:
<span class="formula">
  <u>16 * (1:2)</u> * (3:4) &rarr;
<br>
  (16*1):2 * (3:4) = <u>8 * (3:4)</u> &rarr;  
<br>
  (8*3):4 = 24:4 = <span style="color:red">6</span>
</span><br>

... and it is true. Great. 
<br>
As we usually do, let's change the perspective, and look at the SAME squares but calculating the operations in a different order. If we get the same result, it means that probably the operations can be applied in any order!
<br>
So now I want to try to first calculate <b>16 * (3:4)</b>, and then multiply by <b>1:2</b>, 
AKA divide by two... Starting from the same four by four square, I get:
<div>
    <canvas id="canvas4"></canvas>
  <script>boxGen('canvas4',{size:[4,4],borders:[
    [0,0,1,4,"black",1],
    [1,0,2,4,"black",1],
    [2,0,3,4,"black",1],
    [3,0,4,4,"black",1],
    [1,0,4,4,"blue",4],
  ]})</script>

  <span style="position:relative;top:-2em;">*</span>

  <canvas id="canvas5"></canvas>
  <script>boxGen('canvas5',{size:[4,4],borders:[
    [0,0,4,1,"black",1],
    [0,1,4,2,"black",1],
    [0,2,4,3,"black",1],
    [0,3,4,4,"black",1],
    [0,0,4,2,"green",4],
  ]})</script>

  <span style="position:relative;top:-2em;">=</span>  

  <canvas id="canvas6"></canvas>
  <script>boxGen('canvas6',{size:[4,3],borders:[
    [0,0,3,2,"black",1],

    [1,0,1,2,"black",1],
    [2,0,2,2,"black",1],
    
    [0,1,3,1,"black",1],

    [0,0,3,2,"red",4],
  ]})</script>
</div>
and the area of the red rectangle is <b>16 * (3:4) * (1:2)</b> this time; the calculation here is first <b>(16*3):4 = 48:4 = <u>12</u></b>, and then <b><u>12</u>:2 = <span style="color:red">6</span></b> dots. Visually I can see that the red rectangle to the right in the figure above, really has an area of six dots. 

<br>
And six is exactly the result I would have gotten, if I used our rule from the previous section: 
<span class="formula">
  (a:b) * (c:d) = (a*c) : (b*d) &rarr;
<br>  
  (1:2) * (3:4) = (1*3) : (2*4) = 3:8 &rarr;
<br>  
  16 * (3:8) = (16*3) : 8 = 48:8 = 6
</span>
... bingo!

</p>
<h3>Enter the fraction</h3>
<p>
I know now that I can be <i>lazy</i> when calculating divisions, and instead I can use various rules to work with un-calculated divisions in my expressions as if they where numbers; I might then just have to do a single division at the end of the calculation, or not even that, if you let me call "result" a division like <b>7:2</b>.
<br>
Since an un-calculated division like <b>7:2</b> is just two numbers grouped together, I can decide to write it down as: 
<span class="open_box">7</span><span class="open_box">2</span>
and remember that what it means is <i>"the first number divided by the second"</i>. This <i>box notation</i> can be useful to follow the way the rules for adding and multiplying divisions work.
<br>
Using two boxes to represent one un-calculated division is fine, but I would like to treat something like <b>a:b</b> as a SINGLE THING, as an actual number. So why not giving this things a <i>special syntax</i>... and a better name? How about calling an un-calculated division <i>a fraction</i>?!
<br>
If you accept that, then <b>a:b</b> can be written as <span class="frac"><sup>a</sup><sub>b</sub></span>, the way we all did in school.
<br>
OK,fine. Now: to work as if a fraction was a number, I have to define how to add, multiply (and perhaps also subtract and divide) fractions with other fractions. Luckily we just did that in this chapter, only that we did it writing fractions as un-calculated divisions. 
<br>
If I rewrite the rules we found with the syntax of fractions (and boxes), I am sure they will be more familiar, and perhaps even bring back school math memories:
<ul>
  <li>
    <b>
    <span class="frac"><sup>10</sup><sub>2</sub></span> + 
    <span class="frac"><sup>20</sup><sub>2</sub></span> = 
    <span class="frac"><sup>10 + 20</sup><sub>2</sub></span> =
    <span class="frac"><sup>30</sup><sub>2</sub></span> 
    </b>
    <br>
    Using the boxes the calculation becomes: <span class="open_box">10</span><span class="open_box">2</span>+<span class="open_box">20</span><span class="open_box">2</span> =
    <span class="open_box">10+20</span><span class="open_box">2</span> =
    <span class="open_box">30</span><span class="open_box">2</span>
  </li>
  <li>
    <b>
    <span class="frac"><sup>1</sup><sub>2</sub></span> + 3 = 
    <span class="frac"><sup>1 + (3*2)</sup><sub>2</sub></span> = 
    <span class="frac"><sup>1 + 6</sup><sub>2</sub></span> = 
    <span class="frac"><sup>7</sup><sub>2</sub></span>
    </b>
    <br>
    Using boxes: <span class="open_box">1</span><span class="open_box">2</span>+3 =
    <span class="open_box">1 + 3*2</span><span class="open_box">2</span> =
    <span class="open_box">7</span><span class="open_box">2</span>
  </li>
  <li>
    <b>
    <span class="frac"><sup>1</sup><sub>2</sub></span> * 3 = 
    <span class="frac"><sup>1 * 3</sup><sub>2</sub></span> = 
    <span class="frac"><sup>3</sup><sub>2</sub></span>
    </b>
    <br>
    And using boxes: <span class="open_box">1</span><span class="open_box">2</span>*3 =
    <span class="open_box">1</span><span class="open_box">2</span>*<span class="open_box">3</span><span class="open_box">1</span> = 
    <span class="open_box">1*3</span><span class="open_box">2*1</span> = 
    <span class="open_box">3</span><span class="open_box">2</span>
  </li>
  <li>
    <b>
    <span class="frac"><sup>1</sup><sub>2</sub></span> *
    <span class="frac"><sup>3</sup><sub>4</sub></span> = 
    <span class="frac"><sup>1 * 3</sup><sub>2 * 4</sub></span> =
    <span class="frac"><sup>3</sup><sub>8</sub></span> 
    </b>
    <br>
    With the boxes: 
    <span class="open_box">1</span><span class="open_box">2</span>*<span class="open_box">3</span><span class="open_box">4</span> = 
    <span class="open_box">1*3</span><span class="open_box">2*4</span> = 
    <span class="open_box">3</span><span class="open_box">8</span>
  </li>
</ul>
</p>

<p>
Fine, but I also have to ask the usual question: is there a <i>normal form</i> for a fraction and what are the possible transformations that would change how it looks but not what it means?
<br>
Let's start with our friend un-calculated division <b>1:2</b> and write it as a fraction: 
<span class="frac"><sup>1</sup><sub>2</sub></span>. What is means is: <i>"a division between two numbers, where the dividing number (at the bottom of the fraction) is <b>two times</b> as large as the number being divided (the one on the top of the fraction)"</i>.
We know that if calculated, the division <b>1:2</b> is the number <b>0.5</b>.
And putting these two things together one could ask: are there other ways to write the same fraction?
Answer: you bet!
<br>
For example <span class="frac"><sup>10</sup><sub>20</sub></span> is also <b>10:20 = 0.5</b> and that means it is ALSO a way to write <span class="frac"><sup>1</sup><sub>2</sub></span>. Let's see a few other examples:
<span class="formula">
  <span class="frac"><sup>1</sup><sub>2</sub></span> ,
  <span class="frac"><sup>2</sup><sub>4</sub></span> , 
  <span class="frac"><sup>3</sup><sub>6</sub></span> , 
  <span class="frac"><sup>10</sup><sub>20</sub></span> ,
  <span class="frac"><sup>0.1</sup><sub>0.2</sub></span> ,  
  <span class="frac"><sup>0.5</sup><sub>1</sub></span> ,
  <span class="frac"><sup>-1</sup><sub>-2</sub></span> ,
  <span class="frac"><sup>-2</sup><sub>-4</sub></span> , ... 
</span>

OK, so ALL of these fractions ARE <span class="frac"><sup>1</sup><sub>2</sub></span>, because 
any fraction with some number on top and double as much at the bottom is 
<span class="frac"><sup>1</sup><sub>2</sub></span>. 
And by "ten twentieth IS one half" here we mean: if you were to do the division, you will get the SAME result; we are talking about same meaning (semantics), even if the look (syntax) can be very different.
<br>
Sure. But can I choose one way to write <span class="frac"><sup>1</sup><sub>2</sub></span> as "the official representative of the <i>one half</i>-ness"? That would be the normal form for that fraction.
<br>
In math a normal form should be a simple, possibly <i>elegant</i> way to write something, not too weird and that kind of conveys the meaning as clearly as possible.
Here, <span class="frac"><sup>1</sup><sub>2</sub></span> seems the simplest way to write this fraction: it has after all the smallest two numbers of all the other candidates. 
<br>
Well, that is not entirely true: 
<span class="frac"><sup>0.1</sup><sub>0.2</sub></span> has smaller numbers, but... they are UGLIER! Mainly because of the broken numbers. So perhaps the principle here could be: the normal form of a fraction should be a fraction with the same meaning (AKA the "same" fraction), but with the two smallest possible WHOLE numbers. That gives me "simple and elegant" (or at least "not too ugly"). 

<p>
<i>Note: surely I also need a fraction to never have the bottom number equal to zero, because a fraction is just a lazy division, and we know from the previous chapter that dividing by zero does not make sense. But I don't need to specify that in the definition of the normal form, because a fraction like <span class="frac"><sup>something</sup><sub>0</sub></span> is not a fraction to start with, so it cannot be in normal form for sure.</i>
</p>

OK, let's say that my definition of what a normal form is, makes sense. How do I check that a fraction is in normal form? And what can I do to bring a fraction to its normal form, in case it is not?
<br>
Well, I can go back and try to find similarities among all the ways to write <span class="frac"><sup>1</sup><sub>2</sub></span>. In fact they all look like:
<span class="formula">
  <span class="frac"><sup>k * 1</sup><sub>k * 2</sub></span>
</span>
for some number <i>k</i>. Let me try with some small values of <i>k</i>, to see what happens.
<br>
When <b>k=1 &rarr; <span class="frac"><sup>1</sup><sub>2</sub></span></b>,
when <b>k=3 &rarr; <span class="frac"><sup>3</sup><sub>6</sub></span></b>, and 
when <b>k=0.1 &rarr; <span class="frac"><sup>0.1</sup><sub>0.2</sub></span></b>, and finally
when <b>k=-1 &rarr; <span class="frac"><sup>-1</sup><sub>-2</sub></span></b>.
<br>
Fine, this is an interesting property of fractions: <i>"a fraction stays the same if I multiply the top and bottom numbers by the same value"</i> (provided that value is NOT zero). And this property makes sense also looking at a fraction as a division, so no surprises there: in fact <b>1:2 = (1*5):(2*5) = 5:10 = 0.5</b>.
</p>

<p>
Moral of the story so far: "<span class="frac"><sup>1</sup><sub>2</sub></span>" is really the <i>name</i> of any fraction in the infinite family of fractions that are THE SAME as <b>1:2</b>. 
I can write the same fraction <span class="frac"><sup>a</sup><sub>b</sub></span>
in infinitely many other ways, but they will all look like 
<span class="frac"><sup>k * a</sup><sub>k * b</sub></span>, for some number <i>k</i> different from zero.
</p>

<h2>Special fractions and the ZOOM transformation</h2>
<p>
I think we should consider some fractions as <i>special</i>, for example: <span class="frac"><sup>5</sup><sub>1</sub></span>
is a fraction but looks suspiciously like a normal whole number. 
And in fact if I look at it as a lazy division, it must be the same as <b>5:1 = 5</b>, so <b>a fraction with one at the bottom is a whole number</b>! 
<br>
Good, and what about <span class="frac"><sup>8</sup><sub>2</sub></span>? Surely that is four!
But it is also a fraction... not in normal form though. If I wanted to simplify this fraction, I could try to see it as something of the form: <span class="frac"><sup>k * a</sup><sub>k * b</sub></span>.
Or if you like, I can try to divide both top and bottom numbers by the same (whole) number and see if I get simpler (but still whole) values for both:
<span class="formula">
  <span class="frac"><sup>8</sup><sub>2</sub></span> &rarr; I try with 2 and get  
  <span class="frac"><sup>4</sup><sub>1</sub></span> 
</span>
and I could not go any further because four and one have no factors in common.
A different way to see this process of simplification is to rewrite top and bottom number as prime factors:
<span class="formula">
  <span class="frac"><sup>8</sup><sub>2</sub></span> &rarr; 
  <span class="frac"><sup>2*2*2</sup><sub>2</sub></span> &rarr; 
  <span class="frac"><sup>2*2</sup><sub>1</sub></span> 
</span>
and then remove common factors from the top and the bottom at the same time. 
Interestingly, that means that the simplification of a fraction stops when the two numbers (top and bottom) no longer have any common prime factors. In math they say that the two numbers are <i>co-primes</i>, or that they are <i>prime with respect to each other</i>.
<br>
So some fractions are really whole numbers, and other fractions can <i>look</i> like fractions but are really simpler fractions or even whole numbers.

<a class="appendix_note" href="appendixA.html#appendixA02">Proper, improper and apparent fractions</a>


Interestingly, at this point we have also worked with a transformation of fractions that changes the look but leaves the meaning unchanged: 
<span class="formula">
  <span class="frac"><sup>a</sup><sub>b</sub></span> &rarr;
  <span class="frac"><sup>k * a</sup><sub>k * b</sub></span>
</span>
where <i>k</i> is any whole number, different from zero. 
I propose to call this transformation "zoom", so I can say 
<i>"<span class="frac"><sup>10</sup><sub>20</sub></span> is the fraction <span class="frac"><sup>1</sup><sub>2</sub></span> zoomed by <b>10</b>"</i>.
The zoom transformation is a great example of meaning-preserving transformation, and in a sense we have used it without knowing in our rules. Take the rule: 
<span class="formula">
  <span class="frac"><sup>a</sup><sub>b</sub></span> + c = 
    <span class="frac"><sup>a + (c*b)</sup><sub>b</sub></span>
</span>
we could approach it from this angle: take <b>c</b> and <i>promote</i> it to a fraction (with the 1 at the bottom of course), then <i>zoom</i> it by <b>b</b> and add the two fractions! These steps look like:
<span class="formula">
  <span class="frac"><sup>a</sup><sub>b</sub></span> + c &nbsp;-<i>promote</i>&rarr; 
  <span class="frac"><sup>a</sup><sub>b</sub></span> + <span class="frac"><sup>c</sup><sub>1</sub></span> 
<br>    
  <span class="frac"><sup>a</sup><sub>b</sub></span> + <span class="frac"><sup>c</sup><sub>1</sub></span> 
  &nbsp;-<i>zoom</i>&rarr; 
  <span class="frac"><sup>a</sup><sub>b</sub></span> + <span class="frac"><sup>c*b</sup><sub>1*b</sub></span> = 
  <span class="frac"><sup>a</sup><sub>b</sub></span> + <span class="frac"><sup>c*b</sup><sub>b</sub></span>
<br> 
  <span class="frac"><sup>a</sup><sub>b</sub></span> + <span class="frac"><sup>c*b</sup><sub>b</sub></span>
  &nbsp;-<i>add</i>&rarr; 
  <span class="frac"><sup>a + (c*b)</sup><sub>b</sub></span>
</span>

</p>

<!--p> REPEATED FROM ABOVE
An alternative way to understand fractions could be to look at them as simply pairs of numbers with some special operations associated to them. In this sense, a fraction is a pair of whole numbers 
<span class="open_box">a</span><span class="open_box">b</span>, where <i>b</i> is never zero, that together represent a lazy division; it is OK to transform both numbers together like this:
<span class="formula">
  <span class="open_box">a</span><span class="open_box">b</span> &rarr;
  <span class="open_box">k*a</span><span class="open_box">k*b</span>
</span>
according to our zoom transformation, because the resulting lazy division (AKA fraction) is still the same. The normal form is when the two numbers <i>a</i> and <i>b</i> don't have any prime factors in common (AKA when they are co-primes).
The operations that we normally do with numbers can be <i>extended</i> to work with fractions and even numbers and fractions. These operations can be written as rules that re-write fractions and numbers into a new fraction:
<span class="formula">
  <span class="open_box">a</span><span class="open_box">b</span> +
  <span class="open_box">c</span><span class="open_box">b</span> &rarr;
  <span class="open_box">a+c</span><span class="open_box">b</span>
</span>

<span class="formula">
  <span class="open_box">a</span><span class="open_box">b</span> *
  <span class="open_box">c</span><span class="open_box">d</span> &rarr;
  <span class="open_box">a*b</span><span class="open_box">c*d</span>
</span>

<span class="formula">
  a + <span class="open_box">b</span><span class="open_box">c</span> &rarr;
  <span class="open_box">a</span><span class="open_box">1</span> +
  <span class="open_box">b</span><span class="open_box">c</span> &rarr;
  <span class="open_box">a*c</span><span class="open_box">1*c</span> +
  <span class="open_box">b</span><span class="open_box">c</span> &rarr;
  <span class="open_box">a*c+b</span><span class="open_box">c</span> 
</span>

<span class="formula">
  a * <span class="open_box">b</span><span class="open_box">c</span> &rarr;
  <span class="open_box">a</span><span class="open_box">1</span> *
  <span class="open_box">b</span><span class="open_box">c</span> &rarr;
  <span class="open_box">a*b</span><span class="open_box">1*c</span> &rarr;
  <span class="open_box">a*b</span><span class="open_box">c</span>
</span-->

<p>
And finally, a fraction has an <i>inverse</i>. For example: 
<span class="frac"><sup>2</sup><sub>3</sub></span> is the inverse of 
<span class="frac"><sup>3</sup><sub>2</sub></span>, because when I multiply the first by the second I get <b>1</b>.

<div class="task">Check that it is the case. Use the multiplication rule to calculate  
<b> <span class="frac"><sup>2</sup><sub>3</sub></span> * 
    <span class="frac"><sup>3</sup><sub>2</sub></span></b>.
</div>

Whole numbers also have inverses, and those can be written as fractions; for instance: the inverse of <b>4</b> is <b>0.25</b>, because <b>4 * 0.25 = 1</b>, but <b>0.25</b> is also 
<b><span class="frac"><sup>1</sup><sub>4</sub></span></b>, and saying "the inverse of <b>4</b> is 
<b><span class="frac"><sup>1</sup><sub>4</sub></span></b>" is much more <i>elegant</i> and clear than using <b>0.25</b>! 
<br>
Note: zero is the only number that has no inverse (like we found out in the previous chapter).
</p>

<p>
Time to play with fractions a bit. The playground below lets you manipulate fractions, create them, add, multiply and invert them (the "1/n" operator). There is also a "simplify" operator that will reduce a fraction to its normal form. 
<br>
You can move the fractions using drag and drop. 
If you long-press the mouse button (or your finger) on a fraction, it will show itself in a different format: the standard format is <span class="frac"><sup>a</sup><sub>b</sub></span>, and the alternative format shows the fraction as slices of an area (<span class="frac"><sup>a</sup><sub>b</sub></span> would be <i>b</i> empty rectangles, with <i>a</i> rectangles filled with some color).
<br>The "new" operator creates random fractions for you, and sometimes you will get whole numbers (which we have established are just fractions with one as bottom number). 
<br>The "zoom" operator does somehow the opposite of what "simplify" does: it transforms a fraction by a random number <i>k</i>, so that the input fraction <span class="frac"><sup>a</sup><sub>b</sub></span>
will come out "zoomed by k", AKA looking like <span class="frac"><sup>a*k</sup><sub>b*k</sub></span>.

<div class="task">Collect new fractions until you get a whole number and a fraction, then add them up. 
<br>Is the result in normal form? Try to simplify it and see if it was.</div>

<div class="task">Collect new fractions until you get a whole number. Clone your number, so you can have two copies of it. 
<br>Now, invert one of the copies of your number, to get a fraction like <span class="frac"><sup>1</sup><sub>your number</sub></span>, then multiply your original whole number by its inverse (the fraction). What did you get as result? Do you get <b>1</b>? Is that correct? Why?</div>

<div class="task">Get a new fraction and pass it a couple of times in the zoom operator. 
What is happening to your fraction?
<br>
Now pass the fraction in the simplify operator. Is the resulting fraction still the SAME?
(which means: is the value of the fraction unchanged by the simplify operator?)
<br>
Use long-mouse-press to change the format of your fraction, so you can see its area representation.
Try to pass your fraction in the zoom operator and then in the simplify operator, a few times.
How does the area representation change after zooming and simplifying your fraction?
</div>

</p>

<p>
	<canvas id="myCanvas" style="margin-left:1em; width:800px;height:600px;"></canvas>

	<script src="js/dpf_fractions/DPF_ADT_DEF.js"></script>
   	<script src="js/dpf_fractions/DPF_Fraction.js"></script>
   	<script src="js/dpf_fractions/playground.js"></script>
	<script src="js/dpf_fractions/engine.js"></script>
	<script>
   	let ADT = new Fraction();
   	//console.log( ADT );
   	DPF_Engine(ADT,50,'myCanvas','fractions001');
   </script>	
</p>	


<h2>Puzzles</h2>
<h3>(1) Simplify divisions.</h3>
<p>
Simplify the following division, without calculating them. An un-calculated division is in normal form when the two numbers have no common divider (AKA when they are cop-rimes).
<ul>
  <li><b>(50:25) =</b> ? </li>
  <li><b>(10:40) =</b> ? </li>
  <li><b>(35:56) =</b> ? </li>
  <li><b>(7:5) =</b> ? </li>
  <li><b>(11:7) =</b> ? </li>
</ul>
When you are done with your simplifications, test if you did right: use a calculator to find the result of all division above, and then of your simplified versions too. 
Did you get the same results for each calculation?
</p>    

<h3>(2) Work with un-calculated divisions.</h3>
<p>
Calculate the following math expressions, first by doing the divisions fist, and then calculate them a second time, avoiding as much as possible to do any division. When possibly, simplify the un-calculated division.
<ul>
  <li><b>(50:25) + (5:25) =</b> ? </li>
  <li><b>(10:40) + (2:4) =</b> ? </li>
  <li><b>(110:70) - (14:7) =</b> ? </li>
</ul>
Use a calculator if needed.
<br>
Did you get the same results for each calculation?
</p>  


<h3>(3) A fraction divided another fraction.</h3>
<p>
We have not defined how to divide fraction by another fraction in this chapter. But we have found a rule to <i>multiply</i> a fraction by another:
<span class="formula" style="margin-bottom:.5em;margin-top:.5em">
    <span class="frac"><sup>a</sup><sub>b</sub></span> *
    <span class="frac"><sup>c</sup><sub>d</sub></span> = 
    <span class="frac"><sup>a*c</sup><sub>b*d</sub></span>
</span>
assuming that <i>b</i> and <i>d</i> are any number, but not zero.
However, we also have established that every number and every fraction has an inverse (excluding zero), and we also know from the previous chapter that multiplication and division are one the inverse of the other. So putting all this together we can derive a rule for dividing a fraction by another fraction:
<span class="formula" style="margin-bottom:.5em">
    <span class="frac"><sup>a</sup><sub>b</sub></span> :
    <span class="frac"><sup>c</sup><sub>d</sub></span> = 
    <span class="frac"><sup>a</sup><sub>b</sub></span> *  
    <span class="frac"><sup>d</sup><sub>c</sub></span>
</span>
and here we have to assume that <i>b</i>, <i>d</i>, and also <i>c</i> are all not zero, otherwise we cannot invert the second fraction.
<br>So instead of calculating a division between two fractions, I can simply flip the second one and calculate a nice multiplication instead.
<br>
Taking all that in consideration, solve the following problems.
Note that the problems require to calculate some math expressions involving fractions.
Remember: try to use the rules we have defined in this chapter, to solve the problems below, and not just a calculator...
<ul>
  <li>"Mom baked a tray of brownies. I have already eaten half of it.
    Now mom has a bunch of rectangular tupperware containers, all the same size, which happens 
    to be one-quarter of the tray. How many tupperware containers does she need to fit the remaining half of the brownies?"
  <br>
    <b><span class="frac"><sup>1</sup><sub>2</sub></span> :
    <span class="frac"><sup>1</sup><sub>4</sub></span> =</b> ? </li>
  <li>"I have two bottles of apple juice. I want to pour it into few glasses. 
      The glasses in my cupboard are all the same size, and the can hold one-fifth of a bottle.
      How many glasses will I be able to fill?"
    <br>
    <b> 2 : 
    <span class="frac"><sup>1</sup><sub>5</sub></span> =</b> ? </li>
  <li>"Three people every twenty actually understood school math. How many is that in percentage?"
    <br>
    <b>100 * <span class="frac"><sup>3</sup><sub>20</sub></span> =</b> ? </li>
</ul>
and if needed, simplify your solutions (AKA bring your results to normal form).
</p>


<hr>
<center><a href="#top">TOP</a></center>
</article>

<script src="js/make_links.js"></script>
</body>  